<!DOCTYPE html>
<html lang="en">

<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Best Deals Here</title>
      <link rel="stylesheet" href="/index.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css" />
      <style>
            .dropdown {
                  position: relative;
                  display: inline-block;
            }

            .dropdown span {
                  font-size: 36px;
            }

            .dropdown-content {
                  display: none;
                  position: absolute;
                  min-width: 160px;
                  box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
                  padding: 12px 16px;
                  z-index: 1;
            }

            .dropdown:hover .dropdown-content {
                  display: block;
            }
      </style>
</head>

<body>

      <section id="header">
            <div>
                  <a href="#"><img src="/images/london.png" alt="Error" class="logo"></a>
            </div>
            <div>
                  <ul id="navbar" class="item flex">
                        <li><a href="/index.html">home</a> </li>
                        <li><a href="shop.html" class="active">shop</a></li>
                        <li><a href="/blog.html">blog</a></li>
                        <li><a href="/contact.html">contact</a></li>
                        <li class="dropdown">
                              <span>User</span>
                              <div class="dropdown-content">
                                    <a href="/Register.html">Register</a>
                                    <a href="/login.html">Login</a>
                              </div>
                        </li>
                        <li id="lg-bag"><a href="/cart.html"><i class="fa-solid fa-bag-shopping"></i></a></li>
                        <a href="#" id="close">
                              <i class="fa-solid fa-xmark"></i>
                        </a>
                  </ul>
            </div>
            <div id="mobile">
                  <a href="/cart.html"><i class="fa-solid fa-bag-shopping"></i></a>
                  <i id="bar" class="fas fa-outdent"></i>
            </div>
      </section>
      
      <section class="bh section-p1">
            <!-- <h2>#Stay Home</h2>
            <h6>Save more with coupons & up to 70% Off.</h6> -->
      </section>

      <section id="searching" class="section-p1">
            <div>
                  <h2>Search the Books You Like </h2>
            </div>
            <div class="d-flex" role="search">
                  <input id="myInput" class="form-control me-2" type="text" placeholder="Search" aria-label="Search"
                        onkeyup="searchFun()">
                  <button class="btn btn-outline-success" type="submit">Search</button>
            </div>
            
      </section>

      <section id="product1" class="section-p1">
            <h2 style="margin-bottom: 20px;">Now Trending</h2>
            <div class="container flex" id="product-container">
                  <!-- Products will be added here dynamically -->
            </div>
      </section>

      <section id="pagination" class="section-p1">
            <a href="./page1.html">1</a>
            <a href="./page2.html">2</a>
            <a href="./page1.html"><i class="fa-solid fa-arrow-right"></i></a>
      </section>

      <section id="sign" class="flex section-p1 section-m1">
            <div class="news">
                  <h2>Sign Up For Newsletters</h2>
                  <p>Get E-mail updates about our latest shop and
                        <span class="yellow">special offers.</span>
                  </p>
            </div>
            <div class="up">
                  <input type="text" placeholder="Your Email Address" class="email">
                  <button class="sp exp">Sign Up</button>
            </div>
      </section>

      <footer class="section-p1">
            <div class="col">
                  <img src="/images/london.png" alt="" class="logo">
                  <h4>Contact</h4>
                  <p><strong>Address : </strong>562 Wellington Road, Street 32, Los Angeles, USA</p>
                  <p><strong>Phone : </strong>+91 9897145370</p>
                  <p><strong>Hours : </strong>10:00 AM - 6:00 PM, Mon - Sat</p>
                  <h4>Follow Us</h4>
                  <div class="follow">
                        <div class="icon">
                              <i class="fab fa-facebook-f"></i>
                              <i class="fab fa-twitter"></i>
                              <i class="fab fa-instagram"></i>
                              <i class="fab fa-pinterest"></i>
                              <i class="fab fa-youtube"></i>
                        </div>
                  </div>
            </div>
            <div class="col">
                  <h4>About</h4>
                  <a href="/about.html">About Us</a>
                  <a href="#">Delivery Information</a>
                  <a href="#">Privacy Policy</a>
                  <a href="#">Terms & Conditions</a>
                  <a href="/contact.html">Contact Us</a>
            </div>
            <div class="col">
                  <h4>My Account</h4>
                  <a href="/login.html">Sign In</a>
                  <a href="/cart.html">View Cart</a>
                  <a href="#">My Wishlist</a>
                  <a href="#">Track my Order</a>
                  <a href="#">Help</a>
            </div>
            <div class="col install">
                  <h4>Install App</h4>
                  <p>From App Store or Google Play <br></p>
                  <div class="store">
                        <img src="/images/Pay/app.jpg" alt="">
                        <img src="/images/Pay/play.jpg" alt="">
                  </div>
                  <p>Secured Payment Gateways <br></p>
                  <img src="/images/Pay/pay.png" alt="">
            </div>
            <div class="copyright">
                  <p>@ 2023, Sandhya etc- HTML CSS Ecommerce Template</p>
            </div>
      </footer>

      <script src="/script.js"></script>
      <script>
            // Array to store product names
            var productNames = [];

            // Function to add products dynamically
            function addProduct(imageSrc, brand, name, price) {
                  // Create product element
                  var product = document.createElement("div");
                  product.classList.add("pro");

                  // Add image
                  const image = document.createElement("img");
                  image.src = imageSrc;
                  image.alt = "";
                  product.appendChild(image);

                  // Add description
                  var description = document.createElement("div");
                  description.classList.add("description");

                  var brandSpan = document.createElement("span");
                  brandSpan.innerText = brand;
                  description.appendChild(brandSpan);

                  // Add product name to array
                  productNames.push(brand);

                  var nameH5 = document.createElement("h5");
                  nameH5.innerText = name;
                  description.appendChild(nameH5);

                  var starDiv = document.createElement("div");
                  starDiv.classList.add("star");
                  for (var i = 0; i < 5; i++) {
                        var starIcon = document.createElement("i");
                        starIcon.classList.add("fas", "fa-star");
                        starDiv.appendChild(starIcon);
                  }
                  description.appendChild(starDiv);

                  var moneyDiv = document.createElement("div");
                  moneyDiv.classList.add("money", "flex");

                  var priceH4 = document.createElement("h4");
                  priceH4.innerText = price;
                  moneyDiv.appendChild(priceH4);

                  var cartLink = document.createElement("a");
                  cartLink.href = "#";
                  var cartIcon = document.createElement("i");
                  cartIcon.classList.add("fa-solid", "fa-cart-shopping");
                  cartLink.appendChild(cartIcon);
                  moneyDiv.appendChild(cartLink);

                  description.appendChild(moneyDiv);
                  product.appendChild(description);

                  // Add product to container
                  var container = document.getElementById("product-container");
                  container.appendChild(product);

                  //Function to add sproduct 
                  product.onclick = function () {
                        const data = { name, price, imageSrc };
                        localStorage.setItem('myData', JSON.stringify(data));
                        window.location.href = 'sproduct.html';

                  };
            }

            // Example usage:
            addProduct("/images/Products/f1.jpg", "The Hidden Hindu", " By Akshat Gupta", "$78");
            addProduct("/images/Products/f6.jpg", "Simply Lies", "By David Baldacci", "$56");
            addProduct("/images/Products/f5.jpg", "The Bhagavad Gita", "Bhagavad Gita", "$120");
            addProduct("/images/Products/f7.jpg", "Good Girl, Bad Blood", "Holly Jackson", "$78");
            addProduct("/images/Products/f3.jpg", "The Time Machine", "H.G. Wells", "$75");
            addProduct("/images/Products/f8.jpg", "Subtle ART", "Mark Manson", "$400");
            addProduct("/images/Products/f4.jpg", "The Psychology of Money", "Morgan Housel", "$90");
            addProduct("/images/Products/f2.jpg", "Sherlock Holmes", "Arthur Conan Doyle", "$90");
            
            const searchFun = () => {
                  let filter = document.getElementById('myInput').value.toUpperCase();
                  for (let i = 0; i < productNames.length; i++) {
                        let name = productNames[i];
                        if (name.toUpperCase().indexOf(filter) == -1) {
                              // Access the i-th child div element of the product container
                              var container = document.getElementById("product-container");
                              var childDiv = Array.from(container.childNodes).filter(node => node.nodeName === "DIV")[i];
                              childDiv.style.display = "none";
                        }
                  }
            }


      </script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
            integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
            crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
            integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
            crossorigin="anonymous"></script>
      
            <script>
                  // Get the username from local storage
                  var username = localStorage.getItem('username');
                  
                  if (username) {
                    // Replace "Register" and "Login" options with username and logout
                    var dropdownContent = document.querySelector('.dropdown-content');
                    dropdownContent.innerHTML = `
                      <a href="#">${username}</a>
                      <a href="#" id="logoutBtn">Logout</a>
                    `;
                  
                    // Add event listener to the logout button
                    document.getElementById('logoutBtn').addEventListener('click', function(event) {
                      event.preventDefault();
                  
                      // Clear the username from local storage
                      localStorage.removeItem('username');
                  
                      // Redirect to the login page or perform any other actions
                      window.location.href = "login.html";
                    });
                  }
                </script>
</body>

</html>